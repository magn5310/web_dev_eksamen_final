{% include "_top.html" %}

<main class="w-full h-100vh d-flex p-items-center">
    <form id="frm_edit_profile" class="w-50% d-flex flex-col gap-4 mx-auto">
        <h1 class="text-a-center">Edit Profile</h1>

        <!-- Display any flashed messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
        {% endif %}
        {% endwith %}



        <div class="d-flex flex-col">
            <label for="user_name" class="d-flex">
                <span>Restaurant Name</span>
            </label>
            <input name="user_name" type="text" value="{{ user.user_name }}" required
                mix-check="{{ x.USER_NAME_REGEX }}">
        </div>

        <div class="d-flex flex-col">
            <label for="user_email" class="d-flex">
                <span>Email Address</span>
            </label>
            <input name="user_email" type="email" value="{{ user.user_email }}" required
                mix-check="{{ x.EMAIL_REGEX }}">
        </div>

        <hr>

        <p>If you wish to change your password, please enter the following:</p>

        <div class="d-flex flex-col">
            <label for="current_password">
                <span>Current Password</span>
            </label>
            <input name="current_password" type="password" mix-check="{{ x.PASSWORD_REGEX }}">
        </div>

        <div class="d-flex flex-col">
            <label for="new_password">
                <span>New Password</span>
            </label>
            <input name="new_password" type="password" mix-check="{{ x.PASSWORD_REGEX }}"">
        </div>

        <div class=" d-flex flex-col">
            <label for="confirm_password">
                <span>Confirm New Password</span>
            </label>
            <input name="confirm_password" type="password" mix-check="{{ x.PASSWORD_REGEX }}"">
        </div>

        <button mix-put=" {{ url_for('update_profile', user_pk=user.user_pk) }}" mix-data="#frm_edit_profile">
            Update Profile
            </button>
    </form>
</main>

{% include "_bottom.html" %}